#include <math.h>

const int dacPin = 25; // DAC pin for audio output (GPIO25)
const int sampleRate = 44100; // Standard audio sample rate
const int frequency = 110; // Frequency of the saw wave in Hz (A2 note)
const float amplitude = 0.2; // Max amplitude (0.0 to 1.0)

// Pre-calculate the saw wave values
const int numSamples = sampleRate / frequency;
byte sawWave[numSamples];

void setup() {
  Serial.begin(115200);

  // Pre-calculate the saw wave values
  for (int i = 0; i < numSamples; i++) {
    // Generate a saw wave value from 0 to 255
    sawWave[i] = (i * 255.0 / numSamples) * amplitude;
  }
}

void loop() {
  // Loop through the pre-calculated saw wave samples
  for (int i = 0; i < numSamples; i++) {
    dacWrite(dacPin, sawWave[i]);
  }
}